name: "⚙️ Prep updates"

on:
  workflow_dispatch: null

jobs:
  prep-updates:
    name: "${{ matrix.commit-title }}"

    permissions:
      contents: "write"
      pull-requests: "write"

    strategy:
      matrix:
        include:
          - tox-label-create-changes: "update"
            commit-title: "Update project"
            pr-title: "Update project"
            pr-body-input-format: "gfm"
            pr-body: |
              _Updates auto-generated with `tox run -m update`._

    uses: "kurtmckee/github-workflows/.github/workflows/create-pr.yaml@fix-create-pr"
    with:
      config: "${{ toJSON(matrix) }}"
