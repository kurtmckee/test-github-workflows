name: "Create PR"

on:
  workflow_dispatch:
    inputs:
      version:
        type: string
        description: The version to set
        required: false

jobs:
  create-pr:
    name: "create-pr"
    strategy:
      matrix:
        include:
          - tox-label-create-changes: "update"
            python-version: "3.9"
            pr-body-input-format: "gfm"
            pr-body: |
              _Auto-generated by `tox run -m update`._

    permissions:
      contents: "write"
      pull-requests: "write"

    uses: "kurtmckee/github-workflows/.github/workflows/create-pr.yaml@jinja-templates"
    with:
      config: "${{ toJSON(matrix) }}"
      version: "${{ inputs.version }}"
